<script>
  document.getElementById("booking-form").addEventListener("submit", function(e) {
    e.preventDefault();
    const form = e.target;
    const termsAccepted = form.terms_agree.value;
    const bookingConfirmed = form.confirm_booking.value;

    if (termsAccepted !== "Yes") {
      alert("We don't work with those who don't follow our terms.");
      return;
    }
    if (bookingConfirmed !== "Yes") {
      alert("The form will not be submitted unless the booking is confirmed.");
      return;
    }

    emailjs.sendForm('service_ri28', 'template_1zbt48l', form)
      .then(() => {
        form.classList.add("hidden");
        const summary = document.getElementById("summary");
        
        summary.innerHTML = `
          <p><strong>Name:</strong> ${form.client_name.value}</p>
          <p><strong>Phone:</strong> ${form.phone.value}</p>
          <p><strong>Email:</strong> ${form.email.value}</p>
          <p><strong>Role:</strong> ${form.role.value}</p>
          <p><strong>Category:</strong> ${form.event_category.value}</p>
          <p><strong>Package:</strong> ${form.package.value}</p>
          <p><strong>Date:</strong> ${form.date.value}</p>
          <p><strong>Time:</strong> ${form.time.value}</p>
          <p><strong>Location:</strong> ${form.location.value}</p>
          <p><strong>Payment:</strong> ${form.payment_status.value}</p>
          <p><strong>Budget:</strong> ${form.budget.value} BDT</p>
          <p><strong>Note:</strong> ${form.extra_note.value}</p>
        `;

        document.getElementById("client-sign").innerText = form.client_name.value;
        document.getElementById("confirmation-msg").classList.remove("hidden");
      })
      .catch(error => alert("Something went wrong: " + error));
  });
</script>
